# 代码命名规范

<cite>
**本文档引用的文件**   
- [CustController.java](file://eplus-module-crm/eplus-module-crm-biz/src/main/java/com/syj/eplus/module/crm/controller/admin/cust/CustController.java)
- [CustServiceImpl.java](file://eplus-module-crm/eplus-module-crm-biz/src/main/java/com/syj/eplus/module/crm/service/cust/CustServiceImpl.java)
- [CustConvert.java](file://eplus-module-crm/eplus-module-crm-biz/src/main/java/com/syj/eplus/module/crm/convert/CustConvert.java)
- [CustDO.java](file://eplus-module-crm/eplus-module-crm-biz/src/main/java/com/syj/eplus/module/crm/dal/dataobject/cust/CustDO.java)
- [CustApi.java](file://eplus-module-crm/eplus-module-crm-api/src/main/java/com/syj/eplus/module/crm/api/cust/CustApi.java)
- [CodegenEngine.java](file://yudao-module-infra/yudao-module-infra-biz/src/main/java/cn/iocoder/yudao/module/infra/service/codegen/inner/CodegenEngine.java)
- [README.md](file://README.md)
</cite>

## 目录
1. [引言](#引言)
2. [Java类命名规范](#java类命名规范)
3. [包名组织结构](#包名组织结构)
4. [方法命名规范](#方法命名规范)
5. [常量与变量命名规范](#常量与变量命名规范)
6. [异常类命名规范](#异常类命名规范)
7. [命名最佳实践](#命名最佳实践)

## 引言

本规范文档旨在为eplus-admin-server项目提供统一的代码命名标准，确保代码的一致性和可读性。通过定义Java类、方法、变量、常量等元素的命名规则，帮助开发团队建立清晰的代码结构，提高代码质量和维护效率。

**文档来源**
- [README.md](file://README.md)

## Java类命名规范

在eplus-admin-server项目中，Java类的命名遵循严格的约定，根据类的职责和功能进行分类命名。

### Controller类命名

Controller类用于处理HTTP请求，其命名以模块名开头，后接业务实体名称，最后以"Controller"结尾。例如，客户管理模块的控制器命名为`CustController`。

```java
@RestController
@RequestMapping("/crm/cust")
public class CustController {
    // ...
}
```

**类命名规则：** `{模块名}{业务实体}Controller`

**Section sources**
- [CustController.java](file://eplus-module-crm/eplus-module-crm-biz/src/main/java/com/syj/eplus/module/crm/controller/admin/cust/CustController.java)

### Service类命名

Service类负责业务逻辑的实现，命名以业务实体名称开头，后接"Service"或"ServiceImpl"。接口命名为`{业务实体}Service`，实现类命名为`{业务实体}ServiceImpl`。

```java
public interface CustService {
    // ...
}

@Service
public class CustServiceImpl implements CustService {
    // ...
}
```

**类命名规则：** `{业务实体}Service`（接口），`{业务实体}ServiceImpl`（实现类）

**Section sources**
- [CustServiceImpl.java](file://eplus-module-crm/eplus-module-crm-biz/src/main/java/com/syj/eplus/module/crm/service/cust/CustServiceImpl.java)

### Mapper类命名

Mapper类用于数据库操作，通常由MyBatis框架管理。在项目中，Mapper接口与实体类对应，命名以实体类名开头，后接"Mapper"。

```java
@Mapper
public interface CustMapper extends BaseMapperX<CustDO> {
    // ...
}
```

**类命名规则：** `{实体类名}Mapper`

### DTO、VO、DO类命名

- **DO (Data Object)**：数据对象，与数据库表直接映射，命名以业务实体名开头，后接"DO"。
- **DTO (Data Transfer Object)**：数据传输对象，用于接口间数据传递，命名以业务实体名开头，后接"DTO"。
- **VO (Value Object)**：值对象，用于前端展示，命名以业务实体名开头，后接"VO"。

```java
// DO类
public class CustDO extends BaseDO {
    // ...
}

// DTO类
public class CustDTO {
    // ...
}

// VO类
public class CustRespVO {
    // ...
}
```

**类命名规则：** `{业务实体}DO`、`{业务实体}DTO`、`{业务实体}VO`

**Section sources**
- [CustDO.java](file://eplus-module-crm/eplus-module-crm-biz/src/main/java/com/syj/eplus/module/crm/dal/dataobject/cust/CustDO.java)

### API接口命名

API接口用于模块间的通信，定义在`-api`模块中，命名以业务实体名开头，后接"Api"。

```java
public interface CustApi {
    // ...
}
```

**类命名规则：** `{业务实体}Api`

**Section sources**
- [CustApi.java](file://eplus-module-crm/eplus-module-crm-api/src/main/java/com/syj/eplus/module/crm/api/cust/CustApi.java)

## 包名组织结构

项目的包名组织遵循分层结构，采用`com.syj.eplus.module.[模块名]`的格式，确保模块间的清晰分离。

### 模块结构

项目采用模块化设计，每个业务模块独立成一个模块，包含`-api`和`-biz`两个子模块：

- **{project}-module-{name}-api**：定义接口、DTO、枚举等共享内容。
- **{project}-module-{name}-biz**：实现业务逻辑，包含Controller、Service、Mapper等。

```
eplus-module-crm/
├── eplus-module-crm-api        # 接口定义
│   └── com.syj.eplus.module.crm.api
└── eplus-module-crm-biz        # 业务实现
    └── com.syj.eplus.module.crm
```

**Section sources**
- [README.md](file://README.md)

### 包结构分层

在`-biz`模块中，包结构按功能分层：

- `controller`：存放Controller类，处理HTTP请求。
- `service`：存放Service类，实现业务逻辑。
- `convert`：存放Convert类，负责DO、DTO、VO之间的转换。
- `dal.dataobject`：存放DO类，数据对象。
- `dal.mysql`：存放Mapper接口。

```
com.syj.eplus.module.crm
├── controller/admin/cust/CustController.java
├── service/cust/CustServiceImpl.java
├── convert/CustConvert.java
├── dal/dataobject/cust/CustDO.java
└── dal/mysql/cust/CustMapper.java
```

**Section sources**
- [CustController.java](file://eplus-module-crm/eplus-module-crm-biz/src/main/java/com/syj/eplus/module/crm/controller/admin/cust/CustController.java)
- [CustServiceImpl.java](file://eplus-module-crm/eplus-module-crm-biz/src/main/java/com/syj/eplus/module/crm/service/cust/CustServiceImpl.java)
- [CustConvert.java](file://eplus-module-crm/eplus-module-crm-biz/src/main/java/com/syj/eplus/module/crm/convert/CustConvert.java)
- [CustDO.java](file://eplus-module-crm/eplus-module-crm-biz/src/main/java/com/syj/eplus/module/crm/dal/dataobject/cust/CustDO.java)

## 方法命名规范

方法命名遵循动词+名词的组合方式，确保方法名能够清晰表达其功能。

### 动词+名词命名

方法名以动词开头，后接名词，描述方法的具体操作。例如：

```java
public Long createCust(CustInfoSaveReqVO createInfoReqVO);
public void updateCust(CustInfoSaveReqVO updateReqVO);
public void deleteCust(Long id, Boolean forceDeleted);
public CustInfoRespVo getCust(CrmCustDetailReq req);
```

**命名规则：** `动词 + 名词`，如`createCust`、`updateCust`、`deleteCust`、`getCust`。

### 布尔返回值方法命名

对于返回布尔值的方法，使用`is`、`has`、`should`等前缀，以明确表示其返回值类型。

```java
boolean isEnableFlag();
boolean hasCustName(String name);
boolean shouldSubmitTask();
```

**命名规则：** `is/has/should + 描述`，如`isEnableFlag`、`hasCustName`、`shouldSubmitTask`。

**Section sources**
- [CustServiceImpl.java](file://eplus-module-crm/eplus-module-crm-biz/src/main/java/com/syj/eplus/module/crm/service/cust/CustServiceImpl.java)

## 常量与变量命名规范

### 常量命名

常量命名采用全大写字母，单词间用下划线分隔，确保常量名清晰可读。

```java
private static final String CODE_PREFIX = "C";
public static final String SN_TYPE = "SN_CUST";
private static final String PROCESS_DEFINITION_KEY = "oa_cust";
```

**命名规则：** `全大写 + 下划线`，如`CODE_PREFIX`、`SN_TYPE`、`PROCESS_DEFINITION_KEY`。

### 变量命名

变量命名采用有意义的驼峰命名法，确保变量名能够准确描述其用途。

```java
private Long custId;
private String custName;
private List<CustDO> custList;
private Map<String, String> custMap;
```

**命名规则：** `驼峰命名`，如`custId`、`custName`、`custList`、`custMap`。

**Section sources**
- [CustServiceImpl.java](file://eplus-module-crm/eplus-module-crm-biz/src/main/java/com/syj/eplus/module/crm/service/cust/CustServiceImpl.java)

## 异常类命名规范

异常类命名以业务实体或模块名开头，后接"Exception"，确保异常类型清晰可辨。

```java
public class CustNotFoundException extends RuntimeException {
    // ...
}

public class CustCreateException extends ServiceException {
    // ...
}
```

**命名规则：** `{业务实体/模块名}Exception`，如`CustNotFoundException`、`CustCreateException`。

## 命名最佳实践

### 使用代码生成器统一命名

项目中使用代码生成器（CodegenEngine）来自动生成Controller、Service、Mapper等类，确保命名的一致性。

```java
// 代码生成器配置
private static final Map<String, String> SERVER_TEMPLATES = MapUtil.<String, String>builder(new LinkedHashMap<>())
    .put(javaTemplatePath("controller/controller"), javaModuleImplControllerFilePath())
    .put(javaTemplatePath("convert/Convert"), javaModuleImplMainFilePath("convert/${table.businessName}/${table.className}Convert"))
    .put(javaTemplatePath("dal/do"), javaModuleImplMainFilePath("dal/dataobject/${table.businessName}/${table.className}DO"))
    .build();
```

**优势：** 减少手动命名错误，提高开发效率。

**Section sources**
- [CodegenEngine.java](file://yudao-module-infra/yudao-module-infra-biz/src/main/java/cn/iocoder/yudao/module/infra/service/codegen/inner/CodegenEngine.java)

### 遵循模块化设计

通过将API与实现分离，确保模块间的低耦合。API模块定义接口，BIZ模块实现业务逻辑，便于跨模块调用。

**优势：** 提高代码复用性，降低模块间依赖。

**Section sources**
- [README.md](file://README.md)